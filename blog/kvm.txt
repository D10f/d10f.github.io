3:I[9275,[],""]
5:I[1343,[],""]
6:I[1322,["51","static/chunks/795d4814-791ee4c8ffbea374.js","240","static/chunks/53c13509-665d8ea6240909d2.js","231","static/chunks/231-5c2edefe0a567a0f.js","750","static/chunks/750-0f816d740819c251.js","891","static/chunks/891-673cb69422ff0919.js","185","static/chunks/app/layout-0da2c7d9a4198897.js"],"default"]
7:I[7311,["51","static/chunks/795d4814-791ee4c8ffbea374.js","240","static/chunks/53c13509-665d8ea6240909d2.js","231","static/chunks/231-5c2edefe0a567a0f.js","750","static/chunks/750-0f816d740819c251.js","891","static/chunks/891-673cb69422ff0919.js","185","static/chunks/app/layout-0da2c7d9a4198897.js"],"default"]
8:I[231,["231","static/chunks/231-5c2edefe0a567a0f.js","404","static/chunks/app/blog/page-9a418f1f8ae9b8e1.js"],""]
4:["slug","kvm","d"]
0:["mfRUSCj-3V9GnLcU7DhlL",[[["",{"children":["blog",{"children":[["slug","kvm","d"],{"children":["__PAGE__?{\"slug\":\"kvm\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","kvm","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","children":["$","body",null,{"children":[["$","$L6",null,{}],["$","div",null,{"className":"separator"}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}],["$","footer",null,{"className":"footer","children":[["$","$L7",null,{}],["$","div",null,{"className":"footer__links","children":[["$","div",null,{"className":"footer__field","children":[["$","p",null,{"children":"This site is built with:"}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","$L8",null,{"aria-label":"Link to send an email to address","aria-describedby":"footer__nextjs","href":"https://nextjs.org","target":"_blank","children":["$","svg",null,{"aria-hidden":"true","children":["$","use",null,{"href":"/sprite.svg#icon-nextjs"}]}]}],["$","span",null,{"className":"footer__field-tooltip","role":"tooltip","id":"footer_nextjs","children":"Next.js"}]]}],["$","li",null,{"children":[["$","$L8",null,{"aria-label":"Link to send an email to address","aria-describedby":"footer__asciidoctor","href":"https://asciidoctor.org","target":"_blank","children":["$","svg",null,{"aria-hidden":"true","children":["$","use",null,{"href":"/sprite.svg#icon-asciidoc"}]}]}],["$","span",null,{"className":"footer__field-tooltip","role":"tooltip","id":"footer_asciidoctor","children":"Asciidoctor"}]]}]]}]]}],["$","div",null,{"className":"footer__field","children":[["$","p",null,{"children":"Find more about me:"}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","$L8",null,{"aria-label":"Link to Codeberg profile","href":"https://codeberg.org/D10f","aria-describedby":"footer__codeberg","target":"_blank","children":["$","svg",null,{"aria-hidden":"true","children":["$","use",null,{"href":"/sprite.svg#icon-codeberg"}]}]}],["$","span",null,{"className":"footer__field-tooltip","role":"tooltip","id":"footer__codeberg","children":"Codeberg"}]]}],["$","li",null,{"children":[["$","$L8",null,{"aria-label":"Link to Github profile","href":"https://github.com/D10f","aria-describedby":"footer__github","target":"_blank","children":["$","svg",null,{"aria-hidden":"true","children":["$","use",null,{"href":"/sprite.svg#icon-github"}]}]}],["$","span",null,{"className":"footer__field-tooltip","role":"tooltip","id":"footer__github","children":"GitHub"}]]}],["$","li",null,{"children":[["$","$L8",null,{"aria-label":"Link to Codepen profile","href":"https://codepen.io/D10f","aria-describedby":"footer__codepen","target":"_blank","children":["$","svg",null,{"aria-hidden":"true","children":["$","use",null,{"href":"/sprite.svg#icon-codepen"}]}]}],["$","span",null,{"className":"footer__field-tooltip","role":"tooltip","id":"footer__codepen","children":"Codepen"}]]}],["$","li",null,{"children":[["$","$L8",null,{"aria-label":"Link to Exercism profile","href":"https://exercism.org/profiles/d10f","aria-describedby":"footer__exercism","target":"_blank","children":["$","svg",null,{"aria-hidden":"true","children":["$","use",null,{"href":"/sprite.svg#icon-exercism"}]}]}],["$","span",null,{"className":"footer__field-tooltip","role":"tooltip","id":"footer__exercism","children":"Exercism"}]]}],["$","li",null,{"children":[["$","$L8",null,{"aria-label":"Link to Codewars profile","href":"https://www.codewars.com/users/d10f","aria-describedby":"footer__codewars","target":"_blank","children":["$","svg",null,{"aria-hidden":"true","children":["$","use",null,{"href":"/sprite.svg#icon-codewars"}]}]}],["$","span",null,{"className":"footer__field-tooltip","role":"tooltip","id":"footer__codewars","children":"Codewars"}]]}]]}]]}],["$","div",null,{"className":"footer__field","children":[["$","p",null,{"children":"Get in touch:"}],["$","ul",null,{"children":["$","li",null,{"children":[["$","$L8",null,{"aria-label":"Link to send an email to address devontheroof@pm.me","aria-describedby":"footer__email","href":"mailto:devontheroof@pm.me","children":["$","svg",null,{"aria-hidden":"true","children":["$","use",null,{"href":"/sprite.svg#icon-email"}]}]}],["$","span",null,{"className":"footer__field-tooltip","role":"tooltip","id":"footer__email","children":"Email"}]]}]}]]}]]}],["$","p",null,{"className":"footer__license","children":["All content by me © 2024",["$","$L8",null,{"className":"pl-1","href":"https://creativecommons.org/licenses/by-sa/4.0/","target":"_blank","rel":"license noopener noreferrer","children":"CC BY-SA 4.0"}]]}]]}],["$","noscript",null,{"children":["$","style",null,{"children":".js-required { display: none }"}]}]]}]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/68814e7d4ddcd801.css","precedence":"next","crossOrigin":"$undefined"}]],"$L9"]]]]
9:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"D10f | Better Virtual Machines With KVM/QEMU"}],["$","meta","3",{"name":"description","content":"..."}],["$","meta","4",{"name":"keywords","content":"virtualization linux kernel virtual-machines, shell,qemu"}]]
1:null
a:I[3475,["750","static/chunks/750-0f816d740819c251.js","308","static/chunks/app/blog/%5Bslug%5D/page-920a7887c59b1504.js"],"default"]
b:T11088,<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://wiki.libvirt.org/VM_lifecycle.html">General Concepts</a></p>
</div>
<div class="paragraph">
<p>This post focuses on working with the CLI utilities that exist around <code>libvirt</code> and <code>qemu</code> to manage virtual machines.</p>
</div>
</div>
</div><menu class="toc"><li class="toc__item"><a href="#_hardware_virtualization_support">Hardware Virtualization Support</a></li><li class="toc__item"><a href="#_installation">Installation</a><ul><li class="toc__item"><a href="#_windows_os_guests">Windows OS guests</a></li></ul></li><li class="toc__item"><a href="#_creating_a_new_guest">Creating A New Guest</a><ul><li class="toc__item"><a href="#_from_iso_file">From ISO File</a></li><li class="toc__item"><a href="#_from_an_existing_image">From An Existing Image</a></li></ul></li><li class="toc__item"><a href="#_sharing_files_between_host_and_guest_with_virtiofs">Sharing Files Between Host And Guest With Virtiofs</a><ul><li class="toc__item"><a href="#_from_the_command_line">From The Command Line</a></li><li class="toc__item"><a href="#_from_virt_manager">From Virt Manager</a></li></ul></li><li class="toc__item"><a href="#_managing_domains">Managing Domains</a><ul><li class="toc__item"><a href="#_inspecting_domains">Inspecting Domains</a></li><li class="toc__item"><a href="#_start_shutdown_reboot_and_destroy">Start, Shutdown, Reboot and Destroy</a></li><li class="toc__item"><a href="#_suspend_and_resume">Suspend And Resume</a></li><li class="toc__item"><a href="#_save_and_restore">Save And Restore</a></li><li class="toc__item"><a href="#_remove_domains">Remove Domains</a></li></ul></li><li class="toc__item"><a href="#_edit_domain_configuration_files">Edit Domain Configuration Files</a></li><li class="toc__item"><a href="#_managing_networks">Managing Networks</a></li></menu>
<div class="sect1"><h2 id="_hardware_virtualization_support">Hardware Virtualization Support<a class="anchor" href="#_hardware_virtualization_support">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Check if hardware supports virtualization by running <code>lscpu | grep -i virtualization:</code>. If it comes back empty-handed, it means that your hardware does not support virtualization (possibly because is not enabled, check your BIOS settings). For AMD CPUs this should return with "AMD-V", whereas for Intel it would be "VT-X".</p>
</div>
<div class="paragraph">
<p>Once it&#8217;s confirmed that it indeed supports it, you can check whether the appropriate kernel modules are loaded or not, by running: <code>sudo modinfo kvm</code>. The command <code>zgrep CONFIG_KVM /boot/config-$(uname -r)</code> will list the current configuration of the KVM module; a value of <code>y</code> indicating that it&#8217;s always available or <code>m</code> for available for install/uninstall.</p>
</div>
</div>
</div>
<div class="sect1"><h2 id="_installation">Installation<a class="anchor" href="#_installation">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We are going to need the following packages; these are the installation commands and a brief summary of what they do:</p>
</div>
<div class="paragraph">
<p>For Debian:</p>
</div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="console">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span class="unselectable" style="color:#939AB7;--shiki-catppuccin-light:#7C7F93;--shiki-catppuccin-dark:#949CBB;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">$</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"> sudo apt install qemu-kvm libvirt-daemon-system virtinst virt-manager virt-viewer bridge-utils</span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="paragraph">
<p>For RedHat:</p>
</div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="console">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span class="unselectable" style="color:#939AB7;--shiki-catppuccin-light:#7C7F93;--shiki-catppuccin-dark:#949CBB;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">$</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"> sudo dnf install qemu-system-x86 libvirt-daemon-system virtinst virt-manager virt-viewer ovmf swtpm qemu-utils guestfs-tools libosinfo-bin tuned</span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="dlist">
<dl>
<dt class="hdlist1">qemu-kvm</dt>
<dd>
<p>Bridges the gap between hardware emulation, provided by QEMU, and the kernel-based hypervisor provided by KVM. Automatically detects and installs the appropriate package for the underlying CPU architecture e.g., qemu-system-x86-64.</p>
</dd>
<dt class="hdlist1">qemu-utils</dt>
<dd>
<p>Provides qemu-img (disk image utility), qemu-io (disk exerciser), qemu-nbd (network block device).</p>
</dd>
<dt class="hdlist1">libvirt-daemon-system</dt>
<dd>
<p>Contains the configuration files to run the libvirt daemon as a system service.</p>
</dd>
<dt class="hdlist1">libvirt-clients</dt>
<dd>
<p>Provides command line utility "virsh" to interact with libvirt.</p>
</dd>
<dt class="hdlist1">virtinst</dt>
<dd>
<p>Provides command line utilities to create and edit virtual machines.</p>
</dd>
<dt class="hdlist1">virt-manager</dt>
<dd>
<p>Desktop application interface to manage virtual machines through libvirt. Includes an embedded VNC and Spice client viewer for access to graphical console of virtual machines.</p>
</dd>
<dt class="hdlist1">virt-viewer</dt>
<dd>
<p>Displays the graphical console of a virtual machine.</p>
</dd>
<dt class="hdlist1">ovmf</dt>
<dd>
<p>Open Virtual Machine Firmware, allows use of UEFI on virtual machines.</p>
</dd>
<dt class="hdlist1">swtpm</dt>
<dd>
<p>TPM emulator.</p>
</dd>
<dt class="hdlist1">guestfs-tools</dt>
<dd>
<p>Contains the guestfish interactive shell and various virtualization tools.</p>
</dd>
<dt class="hdlist1">libosinfo-bin</dt>
<dd>
<p>Contains the runtime files to detect operating systems and query the osinfo database via libosinfo.</p>
</dd>
<dt class="hdlist1">tuned</dt>
<dd>
<p>Daemon for monitoring and adaptive tuning of system devices.</p>
</dd>
<dt class="hdlist1">bridge-utils</dt>
<dd>
<p>Utilities for configuring the Linux Ethernet bridge, this makes virtual machines visible to one another and the host.</p>
</dd>
</dl>
</div>
<div class="sect2"><h3 id="_windows_os_guests">Windows OS guests<a class="anchor" href="#_windows_os_guests">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>If you want to run virtual machines with Windows OS you also need virtio drivers, which for lack of official released drivers by Microsoft are provided by the Virtio-win ISO.</p>
</div>
<div class="paragraph">
<p>For RedHat based, start by adding the repository and install it:</p>
</div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="console">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span class="unselectable" style="color:#939AB7;--shiki-catppuccin-light:#7C7F93;--shiki-catppuccin-dark:#949CBB;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">#</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"> sudo wget https://fedorapeople.org/groups/virt/virtio-win/virtio-win.repo -O /etc/yum.repos.d/virtio-win.repo</span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="console">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span class="unselectable" style="color:#939AB7;--shiki-catppuccin-light:#7C7F93;--shiki-catppuccin-dark:#949CBB;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">#</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"> sudo dnf install virtio-win</span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="paragraph">
<p>By default, this provides the stable version of the driver. For the most up-to-date version edit this repository configuration file and set <code>enabled=1</code> in the <code>virtio-win-latest</code> stanza. This package will install an ISO file under <code>/usr/share/virtio-win/</code>.</p>
</div>
<div class="paragraph">
<p>For non-RedHat distributions <a href="https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/">there is a direct download website</a>. To install the drivers the ISO needs to be mounted to the virtual machine as a CD-ROM and use it to install the necessary drivers.</p>
</div>
</div>
</div>
</div>
<div class="sect1"><h2 id="_creating_a_new_guest">Creating A New Guest<a class="anchor" href="#_creating_a_new_guest">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create a new domain you can use the <code>virsh-install</code> command, followed by a description of the characteristics of the virtual machine, such as RAM, CPU cores, etc.</p>
</div>

            <div class="admonition admonition--left note">
                <svg xmlns="http://www.w3.org/2000/svg">
                    <use href="/sprite.svg#icon-note" />
                </svg>
                <p>The libvirt documentation often refers to virtual machines as "domains" or "guest domains". For the purposes of this post, I'll use terms like "domain", "guest", "instance" and "virtual machine" interchangeably.</p>
            </div>
<div class="paragraph">
<p>We can create a new virtual machine "from scratch", that is, using a regular ISO file just like we would run a new installation on hardware, or from a preexisting image file.</p>
</div>
<div class="sect2"><h3 id="_from_iso_file">From ISO File<a class="anchor" href="#_from_iso_file">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>The main difference with other methods is that we need an ISO file to point to when running the virtual machine for the first time. This is equivalent as using an external media device (CD-ROM, USB drive, etc.) plugged in to the computer.</p>
</div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="console">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span class="unselectable" style="color:#939AB7;--shiki-catppuccin-light:#7C7F93;--shiki-catppuccin-dark:#949CBB;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">$</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"> virsh-install \</span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --virt-type kvm \<i class="conum pl-2" data-value="1"><b>❶</b></i></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --name debian12 \<i class="conum pl-2" data-value="2"><b>❷</b></i></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --disk path=/var/lib/libvirt/images/debian12.qcow2,size=15 \<i class="conum pl-2" data-value="3"><b>❸</b></i></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --graphics spice \<i class="conum pl-2" data-value="4"><b>❹</b></i></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --vcpu 1 \<i class="conum pl-2" data-value="5"><b>❺</b></i></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --memory 4096 \<i class="conum pl-2" data-value="6"><b>❻</b></i></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --cdrom $HOME/Downloads/debian12.iso \<i class="conum pl-2" data-value="7"><b>❼</b></i></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --network bridge=virbr0 \<i class="conum pl-2" data-value="8"><b>❽</b></i></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    --osinfo debian12 \<i class="conum pl-2" data-value="9"><b>❾</b></i></span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="colist arabic">
                <table>
                    <tbody>
                        <tr>
            <td>
                <i class="conum pr-2" data-value="1"></i>
                <b>❶</b>
            </td>
            <td>Type of virtualization technology. Other options include "qemu", "lxc" and "xen".</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="2"></i>
                <b>❷</b>
            </td>
            <td>Given name for this particular guest instance.</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="3"></i>
                <b>❸</b>
            </td>
            <td>The location where to store the image for this virtual machine, and the size. This can be resized later.</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="4"></i>
                <b>❹</b>
            </td>
            <td>Type of remote graphics viewer. Can be "spice" or "vnc".</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="5"></i>
                <b>❺</b>
            </td>
            <td>Number if cores to assign to this virtual machine.</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="6"></i>
                <b>❻</b>
            </td>
            <td>Amount of memory to assign to this virtual machine.</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="7"></i>
                <b>❼</b>
            </td>
            <td>The location of the ISO file to use to start the virtual machine. This is only needed the first time to install the operating system.</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="8"></i>
                <b>❽</b>
            </td>
            <td>Network interface to bind to. The "virbr0" interface is created by default.</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="9"></i>
                <b>❾</b>
            </td>
            <td>Type of the operating system. Run the command <code>virt-install --osinfo list</code> to see all the available options for this field.</td>
        </tr>
                    </tbody>
                </table>
            </div>

            <div class="admonition admonition--right tip">
                <svg xmlns="http://www.w3.org/2000/svg">
                    <use href="/sprite.svg#icon-tip" />
                </svg>
                <p>To store ISO files in restricted directories you can use Access Control Lists (ACL) to grant users access to them. Run the command <code>setfacl -m u:${USER}:rwX /var/lib/libvirt/images</code> to grant your user access to this directory.</p>
            </div>
</div>
<div class="sect2"><h3 id="_from_an_existing_image">From An Existing Image<a class="anchor" href="#_from_an_existing_image">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>

</div>
</div>
</div>
<div class="sect1"><h2 id="_sharing_files_between_host_and_guest_with_virtiofs">Sharing Files Between Host And Guest With Virtiofs<a class="anchor" href="#_sharing_files_between_host_and_guest_with_virtiofs">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To enable sharing of files, edit the XML configuration file for that virtual machine. You can do this from the command line or using the GUI through <code>virt-manager</code>.</p>
</div>
<div class="sect2"><h3 id="_from_the_command_line">From The Command Line<a class="anchor" href="#_from_the_command_line">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>From the command line you can use the <code>virsh edit</code> command followed by the domain name you want to edit. This will open that domain&#8217;s XML configuration file in your preferred terminal-based editor, as defined by the <code>$EDITOR</code> variable. Add the following lines to the configuration:</p>
</div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="xml">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">&#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">domain</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">    ...</span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">    &#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">memoryBacking</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">        &#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">source</span><span style="color:#EED49F;--shiki-catppuccin-light:#DF8E1D;--shiki-catppuccin-dark:#E5C890;--shiki-everforest-dark:#DBBC7F;--shiki-everforest-light:#DFA000;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#93A1A1;--shiki-gruvbox-light:#B57614;--shiki-gruvbox-dark:#FABD2F"> type</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">=</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#79740E;--shiki-gruvbox-dark:#B8BB26">memfd</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">/></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">        &#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">access</span><span style="color:#EED49F;--shiki-catppuccin-light:#DF8E1D;--shiki-catppuccin-dark:#E5C890;--shiki-everforest-dark:#DBBC7F;--shiki-everforest-light:#DFA000;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#93A1A1;--shiki-gruvbox-light:#B57614;--shiki-gruvbox-dark:#FABD2F"> mode</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">=</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#79740E;--shiki-gruvbox-dark:#B8BB26">shared</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">/></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">    &#x3C;/</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">memoryBacking</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">    &#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">devices</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">></span></span>
<span class="line"><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">        ...</span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">        &#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">filesystem</span><span style="color:#EED49F;--shiki-catppuccin-light:#DF8E1D;--shiki-catppuccin-dark:#E5C890;--shiki-everforest-dark:#DBBC7F;--shiki-everforest-light:#DFA000;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#93A1A1;--shiki-gruvbox-light:#B57614;--shiki-gruvbox-dark:#FABD2F"> type</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">=</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#79740E;--shiki-gruvbox-dark:#B8BB26">mount</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#EED49F;--shiki-catppuccin-light:#DF8E1D;--shiki-catppuccin-dark:#E5C890;--shiki-everforest-dark:#DBBC7F;--shiki-everforest-light:#DFA000;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#93A1A1;--shiki-gruvbox-light:#B57614;--shiki-gruvbox-dark:#FABD2F"> accessmode</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">=</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#79740E;--shiki-gruvbox-dark:#B8BB26">passthrough</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">            &#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">driver</span><span style="color:#EED49F;--shiki-catppuccin-light:#DF8E1D;--shiki-catppuccin-dark:#E5C890;--shiki-everforest-dark:#DBBC7F;--shiki-everforest-light:#DFA000;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#93A1A1;--shiki-gruvbox-light:#B57614;--shiki-gruvbox-dark:#FABD2F"> type</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">=</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#79740E;--shiki-gruvbox-dark:#B8BB26">virtiofs</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#EED49F;--shiki-catppuccin-light:#DF8E1D;--shiki-catppuccin-dark:#E5C890;--shiki-everforest-dark:#DBBC7F;--shiki-everforest-light:#DFA000;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#93A1A1;--shiki-gruvbox-light:#B57614;--shiki-gruvbox-dark:#FABD2F"> queue</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">=</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#79740E;--shiki-gruvbox-dark:#B8BB26">1024</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">/></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">            &#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">source</span><span style="color:#EED49F;--shiki-catppuccin-light:#DF8E1D;--shiki-catppuccin-dark:#E5C890;--shiki-everforest-dark:#DBBC7F;--shiki-everforest-light:#DFA000;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#93A1A1;--shiki-gruvbox-light:#B57614;--shiki-gruvbox-dark:#FABD2F"> dir</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">=</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#79740E;--shiki-gruvbox-dark:#B8BB26">/home/user/Public</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">/></span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"><i class="conum pl-2" data-value="1"><b>❶</b></i></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">            &#x3C;</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">target</span><span style="color:#EED49F;--shiki-catppuccin-light:#DF8E1D;--shiki-catppuccin-dark:#E5C890;--shiki-everforest-dark:#DBBC7F;--shiki-everforest-light:#DFA000;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#93A1A1;--shiki-gruvbox-light:#B57614;--shiki-gruvbox-dark:#FABD2F"> dir</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2">=</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#79740E;--shiki-gruvbox-dark:#B8BB26">host_public_files</span><span style="color:#A6DA95;--shiki-catppuccin-light:#40A02B;--shiki-catppuccin-dark:#A6D189;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#2AA198;--shiki-solarized-dark:#2AA198;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">'</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">/></span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"><i class="conum pl-2" data-value="2"><b>❷</b></i></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">        &#x3C;/</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">filesystem</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">    &#x3C;/</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">devices</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">></span></span>
<span class="line"><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">&#x3C;/</span><span style="color:#8AADF4;--shiki-catppuccin-light:#1E66F5;--shiki-catppuccin-dark:#8CAAEE;--shiki-everforest-dark:#E69875;--shiki-everforest-light:#F57D26;--shiki-solarized-light:#268BD2;--shiki-solarized-dark:#268BD2;--shiki-gruvbox-light:#427B58;--shiki-gruvbox-dark:#8EC07C">domain</span><span style="color:#8BD5CA;--shiki-catppuccin-light:#179299;--shiki-catppuccin-dark:#81C8BE;--shiki-everforest-dark:#A7C080;--shiki-everforest-light:#8DA101;--shiki-solarized-light:#93A1A1;--shiki-solarized-dark:#586E75;--shiki-gruvbox-light:#076678;--shiki-gruvbox-dark:#83A598">></span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="colist arabic">
                <table>
                    <tbody>
                        <tr>
            <td>
                <i class="conum pr-2" data-value="1"></i>
                <b>❶</b>
            </td>
            <td>The path on the host that should be available to the guest.</td>
        </tr><tr>
            <td>
                <i class="conum pr-2" data-value="2"></i>
                <b>❷</b>
            </td>
            <td>An arbitrary tag to reference from within the guest to complete the mount.</td>
        </tr>
                    </tbody>
                </table>
            </div>
<div class="paragraph">
<p>With these changes, you can now mount this drive by running this command from within the guest:</p>
</div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="console">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span class="unselectable" style="color:#939AB7;--shiki-catppuccin-light:#7C7F93;--shiki-catppuccin-dark:#949CBB;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">$</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"> sudo mount -t virtiofs host_public_files /mnt/public_files</span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="paragraph">
<p>Using the appropriate values for the mount tag and whatever location you want to mount to.</p>
</div>
</div>
<div class="sect2"><h3 id="_from_virt_manager">From Virt Manager<a class="anchor" href="#_from_virt_manager">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>Using the graphical <code>virt-manager</code> the steps are largely the same: edit the XML configuration file. To access it, first select the domain you want to edit and enable the option found at Edit &#8594; Preferences &#8594; Enable XML Editing. Then, click on the "Open" button to launch the viewer and switch the view mode: View &#8594; Details.</p>
</div>

          <figure class="imageblock">
            <picture>
              <img width="undefined" src="/virt-manager-virtiofs.png" alt="virt manager virtiofs" loading="lazy" />
              
            </picture>
          </figure>
        
<div class="paragraph">
<p>From here is a matter of writing the XML sections described above. Head over to the "Memory" section to add the <em>memoryBacking</em>. For the file system, click on the "Add Hardware button" &#8594; File system and fill in the details at the prompt; you can also edit it manually using the XML tab.</p>
</div>

            <div class="admonition admonition--left note">
                <svg xmlns="http://www.w3.org/2000/svg">
                    <use href="/sprite.svg#icon-note" />
                </svg>
                <p>The "Export file system as read only mount" option is not supported by <code>virtiofs</code> as of the writing of this post.</p>
            </div>
</div>
</div>
</div>
<div class="sect1"><h2 id="_managing_domains">Managing Domains<a class="anchor" href="#_managing_domains">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h2>
<div class="sectionbody">

            <div class="admonition admonition--right important">
                <svg xmlns="http://www.w3.org/2000/svg">
                    <use href="/sprite.svg#icon-important" />
                </svg>
                <p>There are hundreds of commands that the <code>virsh</code> utility provides to managing KVM domains. This is a non-comprehensive list of some of the ones that I most commonly use.</p>
            </div>
<div class="sect2"><h3 id="_inspecting_domains">Inspecting Domains<a class="anchor" href="#_inspecting_domains">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>To check on existing domains run the <code>virsh list</code> command. By default, it will only show <em>active</em> domains, that is, running instances. Use options like <code>--all</code> or <code>--with-snapshot</code> to filter the output; options like <code>--uuid</code> or <code>--title</code> will also display specific details about the domains.</p>
</div>
<div class="paragraph">
<p>Use <code>virsh dominfo</code> to inspect a domain more closely to show information such as resources allocated to this domain.</p>
</div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="console">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span class="unselectable" style="color:#939AB7;--shiki-catppuccin-light:#7C7F93;--shiki-catppuccin-dark:#949CBB;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">$</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"> virsh dominfo debian12</span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="literalblock">
<div class="content">
<pre>Id:             -
Name:           debian12
UUID:           733a9603-bec1-4929-9cb4-580848003000
OS Type:        hvm
State:          shut off
CPU(s):         2
Max memory:     4194304 KiB
Used memory:    4194304 KiB
Persistent:     yes
Autostart:      disable
Managed save:   no
Security model: apparmor
Security DOI:   0</pre>
</div>
</div>
</div>
<div class="sect2"><h3 id="_start_shutdown_reboot_and_destroy">Start, Shutdown, Reboot and Destroy<a class="anchor" href="#_start_shutdown_reboot_and_destroy">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>The <code>start</code> and <code>reboot</code> sub-commands are quite self-explanatory. As for <code>shutdown</code> and <code>destroy</code>, the difference is that the latter is akin to pulling the power cord on a physical machine, without giving it any chance to terminate gracefully.</p>
</div>
</div>
<div class="sect2"><h3 id="_suspend_and_resume">Suspend And Resume<a class="anchor" href="#_suspend_and_resume">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>Another way of halting a virtual machine without shutting it down is to use <code>virsh suspend</code>. In this state, it will show up as "paused" when doing a listing with <code>virsh list</code> and it will continue to consume allocated resources by the host OS, such as RAM and CPU cores. However, it won&#8217;t be eligible for scheduling by the hypervisor, meaning no activity resulting from disk and network I/O. To bring it back up use <code>virsh resume</code>.</p>
</div>
</div>
<div class="sect2"><h3 id="_save_and_restore">Save And Restore<a class="anchor" href="#_save_and_restore">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>To shut down the machine entirely while retaining the current state you can use the <code>virsh save</code> command. This is very similar to suspend except that the resources allocated to the domain are freed, and the state of the machine is saved into a <em>state file</em>, which can then be referenced by the <code>virsh restore</code> command.<br>
This is akin to hibernating a physical machine but without accounting for disk state. For a more comprehensive and fully-featured way of preserving the state of a domain, see Snapshots.</p>
</div>
</div>
<div class="sect2"><h3 id="_remove_domains">Remove Domains<a class="anchor" href="#_remove_domains">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h3>
<div class="paragraph">
<p>To completely remove a domain use the <code>virsh undefine</code> command. By itself, it will remove the configuration file only but all snapshots and storage volumes will persist.</p>
</div>
</div>
</div>
</div>
<div class="sect1"><h2 id="_edit_domain_configuration_files">Edit Domain Configuration Files<a class="anchor" href="#_edit_domain_configuration_files">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once a domain has been created we can change some of its parameters using various <code>virsh</code> sub-commands, such as <code>virsh domrename</code> to change the given name.</p>
</div>
</div>
</div>
<div class="sect1"><h2 id="_managing_networks">Managing Networks<a class="anchor" href="#_managing_networks">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-link" />
                    </svg>
                </a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, <code>libvirt</code> will create a virtual interface <code>virbr0</code> that all domains can connect to. You can check this with the <code>ip</code> command and check for this interface (it will also show the IP address assigned) or with <code>virsh net-list</code> command:</p>
</div>
<div class="codeblock">
            <button class="codeblock__copy-btn rotating-btn  js-required">
                <span class="unselectable">
                    <svg aria-hidden="true">
                        <use href="/sprite.svg#icon-clipboard" />
                    </svg>

                    <svg aria-hidden="true" style="transform: rotate(180deg);">
                        <use href="/sprite.svg#icon-clipboard-success" />
                    </svg>
                </span>
            </button>
            <div class="listingblock" data-language="console">
                <span style="font-style: italic;"></span>
                <figure>
                    
                    <pre class="shiki shiki-themes catppuccin-macchiato catppuccin-latte catppuccin-frappe everforest-dark everforest-light solarized-light solarized-dark gruvbox-light-hard gruvbox-dark-hard" style="background-color:#24273a;--shiki-catppuccin-light-bg:#eff1f5;--shiki-catppuccin-dark-bg:#303446;--shiki-everforest-dark-bg:#2d353b;--shiki-everforest-light-bg:#fdf6e3;--shiki-solarized-light-bg:#fffce8;--shiki-solarized-dark-bg:#073642;--shiki-gruvbox-light-bg:#faf6d9;--shiki-gruvbox-dark-bg:#282828;color:#cad3f5;--shiki-catppuccin-light:#4c4f69;--shiki-catppuccin-dark:#c6d0f5;--shiki-everforest-dark:#d3c6aa;--shiki-everforest-light:#5c6a72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3c3836;--shiki-gruvbox-dark:#ebdbb2" tabindex="-1"><code><span class="line"><span class="unselectable" style="color:#939AB7;--shiki-catppuccin-light:#7C7F93;--shiki-catppuccin-dark:#949CBB;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#7C6F64;--shiki-gruvbox-dark:#A89984">$</span><span style="color:#CAD3F5;--shiki-catppuccin-light:#4C4F69;--shiki-catppuccin-dark:#C6D0F5;--shiki-everforest-dark:#D3C6AA;--shiki-everforest-light:#5C6A72;--shiki-solarized-light:#657B83;--shiki-solarized-dark:#839496;--shiki-gruvbox-light:#3C3836;--shiki-gruvbox-dark:#EBDBB2"> virsh net-list</span></span></code></pre>
                </figure>
            </div>
        </div>
<div class="literalblock">
<div class="content">
<pre> Name      State    Autostart   Persistent
--------------------------------------------
 default   active   yes         yes</pre>
</div>
</div>
<div class="paragraph">
<p>Networks are defined as XML files, for example, the default one can be found at <code>/usr/share/libvirt/networks/default.xml</code>. Once this file exists you can <em>define</em> a new interface using it as a configuration source by running <code>virsh net-define &lt;path/to/xml&gt;</code>. If you ever delete this default interface accidentally, you can use this to reestablish the network.</p>
</div>
</div>
</div>2:["$","$La",null,{"title":"Better Virtual Machines With KVM/QEMU","subtitle":"$undefined","date":"Jun 11th, 2024","content":"$b"}]
